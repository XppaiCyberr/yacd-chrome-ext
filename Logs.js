import{r as e,R as r,p as a,u as s,b as t,j as n,d as o,U as l,V as i,E as c,W as p,C as u,q as d,X as f,Y as g,g as h,Z as m,x as _}from"./popup.js";import{r as y,s as v,f as b}from"./logs2.js";import{d as x}from"./debounce.js";import{u as w}from"./useRemainingViewPortHeight.js";import{F as j,p as N}from"./Fab.js";import{P as S,a as O}from"./play.js";function P(){return P=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},P.apply(this,arguments)}function C(e,r){if(null==e)return{};var a,s,t=function(e,r){if(null==e)return{};var a,s,t={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var k=e.forwardRef(function(e,a){var s=e.color,t=void 0===s?"currentColor":s,n=e.size,o=void 0===n?24:n,l=C(e,["color","size"]);return r.createElement("svg",P({ref:a,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});k.propTypes={color:a.string,size:a.oneOfType([a.string,a.number])},k.displayName="Search";const T=k,R="_RuleSearch_ue4xf_1",L="_RuleSearchContainer_ue4xf_10",E="_inputWrapper_ue4xf_20",z="_input_ue4xf_20",W="_iconWrapper_ue4xf_45";const B=o(e=>({searchText:l(e),updateSearchText:i}))(function({dispatch:r,searchText:a,updateSearchText:o}){const{t:l}=s(),[i,c]=e.useState(a),p=e.useCallback(e=>{r(o(e))},[r,o]),u=e.useMemo(()=>x(p,300),[p]);return t("div",{className:R,children:n("div",{className:L,children:[t("div",{className:E,children:t("input",{type:"text",value:i,onChange:e=>{c(e.target.value),u(e.target.value)},className:z,placeholder:l("Search")})}),t("div",{className:W,children:t(T,{size:20})})]})})}),F="_logMeta_pycfb_1",I="_logType_pycfb_8",M="_logTime_pycfb_17",V="_logText_pycfb_22",q="_logsWrapper_pycfb_37",A="_logPlaceholder_pycfb_54",H="_logPlaceholderIcon_pycfb_67",{useCallback:U,useEffect:X}=_,Y={debug:"#389d3d",info:"#58c3f2",warning:"#cc5abb",error:"#c11c1c"},Z={debug:"debug",info:"info",warning:"warn",error:"error"};function D({time:e,payload:r,type:a}){return n("div",{className:F,children:[t("span",{className:M,children:e}),n("span",{className:I,style:{color:Y[a]},children:["[ ",Z[a]," ]"]}),t("span",{className:V,children:r})]})}const G=o(e=>({logs:f(e),logLevel:g(e),apiConfig:h(e),logStreamingPaused:m(e)}))(function({dispatch:e,logLevel:r,apiConfig:a,logs:o,logStreamingPaused:l}){const i=c(),f=U(()=>{l?y({...a,logLevel:r}):v(),i.app.updateAppConfig("logStreamingPaused",!l)},[a,r,l,i.app]),g=U(r=>e(p(r)),[e]);X(()=>{b({...a,logLevel:r},g)},[a,r,g]);const[h,m]=w(),{t:_}=s();return n("div",{children:[t(u,{title:_("Logs")}),t(B,{}),t("div",{ref:h,children:0===o.length?n("div",{className:A,style:{height:.9*m},children:[t("div",{className:H,children:t(d,{width:200,height:200})}),t("div",{children:_("no_logs")})]}):n("div",{className:q,style:{height:.85*m},children:[o.map((e,r)=>t("div",{className:"",children:t(D,{...e})},r)),t(j,{icon:t(l?S:O,{size:16}),mainButtonStyles:l?{background:"#e74c3c"}:{},style:N,text:_(l?"Resume Refresh":"Pause Refresh"),onClick:f})]})})]})});export{G as default};
